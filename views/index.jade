extends layout

block content

  .pure-g-r#layout
    a#navLink.pure-menu-link(href="#nav")
      img(src="/img/navicon-png2x.png", width="20px", alt="Nav Toggle")
    .pure-u#nav
      nav
        .pure-menu.pure-menu-open.pure-menu-blackbg
          a.pure-menu-heading(href='#') SimpleCI
          ul
            li#dashboardBtn.pure-menu-seleted
              a(href="#dashboard")
                .pure-g
                  i.icon-dashboard.icon-fixed-width.icon-4x.nav-icon
                .nav-label Dashboard
            li#jobBtn
              a(href='#jobs')
                .pure-g
                  i.icon-cog.icon-fixed-width.icon-4x.nav-icon
                .nav-label Jobs
            li#projectBtn
              a(href='#projects')
                .pure-g
                  i.icon-wrench.icon-fixed-width.icon-4x.nav-icon
                .nav-label Projects

    .pure-u#main
      .content.pure-u-1
        #dashboard
        #jobs

  append scripts
    script(type='text/javascript')
      var nav = document.getElementById('nav'),
          navLink = document.getElementById('navLink'),
          layout = document.getElementById('layout'),

          toggleClass = function (element, className) {
              var classes = element.className.split(/\s+/),
                  length = classes.length,
                  i = 0;

              for(; i < length; i++) {
                if (classes[i] === className) {
                  classes.splice(i, 1);
                  break;
                }
              }
              // The className is not found
              if (length === classes.length) {
                  classes.push(className);
              }

              element.className = classes.join(' ');
          };

        navLink.onclick = function (e) {
            e.preventDefault();
            var active = 'active';
            toggleClass(layout, active);
            toggleClass(nav, active);
        };
